{"ast":null,"code":"import '@pwabuilder/pwainstall';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./bowl.service\";\nimport * as i2 from \"@angular/service-worker\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/material/toolbar\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/progress-spinner\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/select\";\nimport * as i9 from \"@angular/material/core\";\nimport * as i10 from \"@angular/material/table\";\nimport * as i11 from \"@angular/material/icon\";\n\nfunction AppComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelementStart(1, \"h4\", 8);\n    i0.ɵɵtext(2, \"Loading Scoreboard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"mat-spinner\", 9);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_mat_form_field_7_mat_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const userPick_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", userPick_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", userPick_r4.name, \" \");\n  }\n}\n\nfunction AppComponent_mat_form_field_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-form-field\", 10);\n    i0.ɵɵelementStart(1, \"mat-label\");\n    i0.ɵɵtext(2, \"See Differences Between\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-select\", 11);\n    i0.ɵɵlistener(\"selectionChange\", function AppComponent_mat_form_field_7_Template_mat_select_selectionChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.selectUser($event.value);\n    });\n    i0.ɵɵtemplate(4, AppComponent_mat_form_field_7_mat_option_4_Template, 2, 2, \"mat-option\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.userPicks);\n  }\n}\n\nfunction AppComponent_table_8_ng_container_1_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const column_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", column_r12, \" \");\n  }\n}\n\nfunction AppComponent_table_8_ng_container_1_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r16 = ctx.$implicit;\n    const column_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r16[column_r12], \" \");\n  }\n}\n\nfunction AppComponent_table_8_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 21);\n    i0.ɵɵtemplate(1, AppComponent_table_8_ng_container_1_th_1_Template, 2, 1, \"th\", 22);\n    i0.ɵɵtemplate(2, AppComponent_table_8_ng_container_1_td_2_Template, 2, 1, \"td\", 17);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const column_r12 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"matColumnDef\", column_r12);\n  }\n}\n\nfunction AppComponent_table_8_td_3_div_3_mat_icon_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 31);\n    i0.ɵɵtext(1, \"check\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_table_8_td_3_div_3_mat_icon_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 32);\n    i0.ɵɵtext(1, \"close\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_table_8_td_3_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 28);\n    i0.ɵɵelementStart(2, \"h6\", 2);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AppComponent_table_8_td_3_div_3_mat_icon_4_Template, 2, 0, \"mat-icon\", 29);\n    i0.ɵɵtemplate(5, AppComponent_table_8_td_3_div_3_mat_icon_5_Template, 2, 0, \"mat-icon\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pick_r20 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", pick_r20.bowl, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pick_r20.win);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pick_r20.loss);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pick_r20.pick);\n  }\n}\n\nfunction AppComponent_table_8_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24);\n    i0.ɵɵelementStart(1, \"div\", 25);\n    i0.ɵɵelementStart(2, \"div\", 26);\n    i0.ɵɵtemplate(3, AppComponent_table_8_td_3_div_3_Template, 8, 4, \"div\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r18 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"colspan\", ctx_r8.columnsToDisplay.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"@detailExpand\", element_r18 == ctx_r8.expandedElement ? \"expanded\" : \"collapsed\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", element_r18.picks);\n  }\n}\n\nfunction AppComponent_table_8_tr_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 33);\n  }\n}\n\nfunction AppComponent_table_8_tr_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 34);\n    i0.ɵɵlistener(\"click\", function AppComponent_table_8_tr_5_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const element_r23 = restoredCtx.$implicit;\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return ctx_r24.expandedElement = ctx_r24.expandedElement === element_r23 ? null : element_r23;\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r23 = ctx.$implicit;\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"example-expanded-row\", ctx_r10.expandedElement === element_r23);\n  }\n}\n\nfunction AppComponent_table_8_tr_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 35);\n  }\n}\n\nconst _c0 = function () {\n  return [\"expandedDetail\"];\n};\n\nfunction AppComponent_table_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 14);\n    i0.ɵɵtemplate(1, AppComponent_table_8_ng_container_1_Template, 3, 1, \"ng-container\", 15);\n    i0.ɵɵelementContainerStart(2, 16);\n    i0.ɵɵtemplate(3, AppComponent_table_8_td_3_Template, 4, 3, \"td\", 17);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(4, AppComponent_table_8_tr_4_Template, 1, 0, \"tr\", 18);\n    i0.ɵɵtemplate(5, AppComponent_table_8_tr_5_Template, 1, 2, \"tr\", 19);\n    i0.ɵɵtemplate(6, AppComponent_table_8_tr_6_Template, 1, 0, \"tr\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataSource\", ctx_r2.userPicks);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.columnsToDisplay);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r2.columnsToDisplay);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r2.columnsToDisplay);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", i0.ɵɵpureFunction0(5, _c0));\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(bowlService, swUpdate, snackBar) {\n      this.bowlService = bowlService;\n      this.swUpdate = swUpdate;\n      this.snackBar = snackBar;\n      this.loading = false;\n      this.columnsToDisplay = ['name', 'wins', 'losses', 'differences'];\n    }\n\n    visibilityChange() {\n      if (!document.hidden) {\n        this.loadPicks();\n      }\n    }\n\n    ngOnInit() {\n      this.loadPicks();\n      this.swUpdate.versionUpdates.subscribe(event => {\n        console.log('[App] Update available');\n        const snackBarRef = this.snackBar.open('Newer version of the app is available', 'Refresh');\n        snackBarRef.onAction().subscribe(() => {\n          location.reload();\n        });\n      });\n    }\n\n    loadPicks() {\n      this.loading = true;\n      this.bowlService.getPicks().subscribe(picks => {\n        this.loading = false;\n        this.userPicks = picks.sort((pick1, pick2) => {\n          return pick1.wins > pick2.wins ? -1 : 1;\n        });\n      });\n    }\n\n    selectUser(selectedUserPicks) {\n      this.selectedUserPicks = selectedUserPicks;\n      this.userPicks.forEach(up => {\n        up.differences = 0;\n        up.picks.forEach(p => {\n          const selectedUserPick = selectedUserPicks.picks.find(suPicks => suPicks.bowl === p.bowl).pick;\n          const isSameUser = selectedUserPicks.name === up.name;\n          const undecidedGame = !p.win && !p.loss;\n          const isNotTiebreaker = !p.bowl.includes('Tiebreaker');\n\n          if (p.pick !== selectedUserPick && !isSameUser && undecidedGame && isNotTiebreaker) {\n            up.differences++;\n          }\n        });\n      });\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.BowlService), i0.ɵɵdirectiveInject(i2.SwUpdate), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    hostBindings: function AppComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"visibilitychange\", function AppComponent_visibilitychange_HostBindingHandler() {\n          return ctx.visibilityChange();\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    decls: 9,\n    vars: 3,\n    consts: [[\"color\", \"primary\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-between\", \"w-100\"], [1, \"mb-0\"], [\"manifestpath\", \"manifest.webmanifest\"], [\"class\", \"d-flex align-items-center justify-content-center w-100 mt-4\", 4, \"ngIf\"], [\"class\", \"w-100 p-2\", 4, \"ngIf\"], [\"mat-table\", \"\", \"multiTemplateDataRows\", \"\", \"class\", \"mat-elevation-z8\", 3, \"dataSource\", 4, \"ngIf\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-center\", \"w-100\", \"mt-4\"], [1, \"mb-0\", \"mr-3\"], [\"diameter\", \"30\"], [1, \"w-100\", \"p-2\"], [3, \"selectionChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"mat-table\", \"\", \"multiTemplateDataRows\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [3, \"matColumnDef\", 4, \"ngFor\", \"ngForOf\"], [\"matColumnDef\", \"expandedDetail\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", \"class\", \"example-element-row\", 3, \"example-expanded-row\", \"click\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-row\", \"\", \"class\", \"example-detail-row\", 4, \"matRowDef\", \"matRowDefColumns\"], [3, \"matColumnDef\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [1, \"example-element-detail\"], [1, \"example-element-description\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-start\"], [\"class\", \"text-success\", 4, \"ngIf\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"text-success\"], [1, \"text-danger\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\", 1, \"example-element-row\", 3, \"click\"], [\"mat-row\", \"\", 1, \"example-detail-row\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-toolbar\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"p\", 2);\n        i0.ɵɵtext(3, \"Livingston Bowl\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\");\n        i0.ɵɵelement(5, \"pwa-install\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, AppComponent_div_6_Template, 4, 0, \"div\", 4);\n        i0.ɵɵtemplate(7, AppComponent_mat_form_field_7_Template, 5, 1, \"mat-form-field\", 5);\n        i0.ɵɵtemplate(8, AppComponent_table_8_Template, 7, 6, \"table\", 6);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n      }\n    },\n    directives: [i4.MatToolbar, i5.NgIf, i6.MatSpinner, i7.MatFormField, i7.MatLabel, i8.MatSelect, i5.NgForOf, i9.MatOption, i10.MatTable, i10.MatColumnDef, i10.MatCellDef, i10.MatHeaderRowDef, i10.MatRowDef, i10.MatHeaderCellDef, i10.MatHeaderCell, i10.MatCell, i11.MatIcon, i10.MatHeaderRow, i10.MatRow],\n    styles: [\"table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#777}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:bold;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}\"],\n    data: {\n      animation: [trigger('detailExpand', [state('collapsed', style({\n        height: '0px',\n        minHeight: '0'\n      })), state('expanded', style({\n        height: '*'\n      })), transition('expanded <=> collapsed', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)'))])]\n    }\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}